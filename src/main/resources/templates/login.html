<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <!--<script src="/static/jquery-3.3.1.min.js" th:src="@{/jquery-3.3.1.min.js}"></script>-->
    <title>Login</title>
</head>
<body>
<form id="loginForm" class="w3-container w3-padding-64 w3-border" onsubmit="return false">
    <div class="w3-container">
        <h2>LogIn Form</h2>
    </div>
    <p class="w3-container">
        <label class="w3-section">username: </label>
        <input class="w3-input w3-section" type="text" name="userName" placeholder="please type your username" required/></p>
    <p class="w3-container">
        <label class="w3-section">password: </label>
        <input class="w3-input w3-section" type="password" name="password" placeholder="please type your password" required/></p>
    <p class="w3-container"><button class="w3-btn w3-block w3-teal w3-section">LogIn</button></p>
    <p class="w3-container"><a href="register">No have account? Register now</a></p>
</form>
<script>
    $(function () {
        $('#loginForm').submit(function () {
            $.ajax({
                async:false,
                url:'login',
                type:'post',
                data:$('#loginForm').serialize(),
                dataType:"text",
                success:function (data) {
                    var result = JSON.parse(data);
                    if (result.code == 200) {
                        location.href='/index';
                    } else {
                       alert(result.message);
                    }
                }
            })
        });
    })
</script>
</body>
</html>